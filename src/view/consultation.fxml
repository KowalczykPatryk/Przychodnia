<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.DatePicker?>

<VBox spacing="10" alignment="CENTER" xmlns:fx="http://javafx.com/fxml" fx:controller="controller.ConsultationController">

    <HBox>
        <Button text="Powrót" onAction="#goToDoctorDashboard"/>
    </HBox>

    <Label fx:id="titleLabel" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
    <Label fx:id="patientNameLabel" style="-fx-font-size: 18px;"/>

    <Label text="Data wizyty:"/>
    <DatePicker fx:id="appointmentDatePicker" prefWidth="150"/>
    <TextField fx:id="startTimeField" promptText="Godzina rozpoczęcia"/>
    <TextField fx:id="endTimeField" promptText="Godzina zakończenia"/>

    <CheckBox fx:id="addPrescriptionCheckBox" text="Dodaj receptę" onAction="#handlePrescriptionCheckBox"/>
    <CheckBox fx:id="addExaminationCheckBox" text="Dodaj badania" onAction="#handleExaminationCheckBox"/>

    <VBox fx:id="prescriptionFieldsContainer" spacing="5" visible="false" managed="false">
        <Label text="Szczegóły recepty:" style="-fx-font-weight: bold;"/>
        <Label text="Dodaj leki:" style="-fx-font-weight: bold;"/>
        <HBox spacing="10" alignment="CENTER_LEFT">
            <ComboBox fx:id="medicationComboBox" promptText="Wybierz lek" prefWidth="200"/>
            <Button text="Dodaj lek" onAction="#handleAddMedication"/>
        </HBox>
        <Label text="Leki na recepcie:"/>
        <ListView fx:id="prescriptionListView" prefHeight="100" prefWidth="400"/>
        <Button text="Usuń zaznaczony lek" onAction="#handleRemoveMedication"/>
        <TextField fx:id="prescriptionNumberField" promptText="Numer recepty"/>
        <TextField fx:id="validityField" promptText="Ważność (dni)"/>
    </VBox>
    <VBox fx:id="addExaminationFieldsContainer" spacing="5" visible="false" managed="false">
        <Label text="Szczegóły badań:" style="-fx-font-weight: bold;"/>
        <Label text="Dodaj badania:" style="-fx-font-weight: bold;"/>
        <HBox spacing="10" alignment="CENTER_LEFT">
            <ComboBox fx:id="examinationComboBox" promptText="Wybierz badanie" prefWidth="200"/>
            <Button text="Dodaj badanie" onAction="#handleAddExamination"/>
        </HBox>
        <Label text="Dodane badania:"/>
        <ListView fx:id="examinationListView" prefHeight="100" prefWidth="400"/>
        <Button text="Usuń zaznaczone badanie" onAction="#handleRemoveExamination"/>
    </VBox>
    <Button text="Zakończ wizytę" onAction="#handleSaveConsultation"/>
</VBox>